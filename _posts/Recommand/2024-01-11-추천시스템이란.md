---
title: "추천시스템이란"
escerpt: "추천시스템이란"

categories:
  - Recommand
tags:
  - [AI, Recommand]

toc: true
toc_sticky: true

breadcrumbs: true

date: 2024-01-11
last_modified_at: 2024-01-11

comments: true
  

---


## overview
1. evaluating recommender systems : 무엇이 좋은 추천결과를 만드는지 정의하는것. 이를통해 무엇을 최적화할지 결정하는데 중요.
2. building a recommendation engine : 소프트웨어 프레임워크를 만든후 추천결과를 만들고 평가하기(실제데이터와 다른 추천프로그램 사용)
3. content-based filtering : 물건의 속성을바탕으로 어떻게 사람들에게 물건을 추천하는지.
4. neighborhood-based collaborative filtering : 일반적인 행동을 바탕으로한 아마존에 의해 개발된 추천방식.(현재 널리 사용되는 방식)
5. model-based methods : 매트릭스 인수분해에 크게 의존하여 추천결과를 만들어 내는법.
6. recommendation with deep learning : 딥러닝 이용하여 추천할때 생기는 문제점.
7. challenges of recommender systems : 실제로 추천시스템을 배포할떄 나타날수 있는 문제점 및 해결책.
8. hybrid solutions : 여러가지를 하나로 결합하여 더욱 강력하게 만드는 솔루션.


## 1. what is a recommender system?
- 추천시스템은 임의의 값을 추천하거나 임의의 문제를 해결하는 시스템이 아니다. 

#### Q) 추천시스템 vs 머신러닝 시스템 차이?
- 추천시스템은 머신러닝 시스템의 특정한 시스템이다. 하지만 일반적으로 머신러닝으로 묘사할수있는 임의의 값을 추천하는 시스템이 아니기 때문에 혼란이 올수있음.

- 머신러닝 시스템의 예시  
  - ex) 집크기와 이웃에 대한 정보를 바탕으로 집가격추천받을때, 이것은 추천시스템이 아닌 머신러닝 시스템이다.
  - 해당 거래가 사기인지 아닌지 여부 가려내는것도 추천시스템이 아니다.
  - 일반적인 머신러닝 시스템활용할때는 regression, deep learning, XGBoost 등의 기술을 활용.
  - 추천시스템은 단순히 주어진 문제를 해결하는 해결책을 추천하는 일반적인 알고리즘이 아니다.

- 추천시스템의 예시 (추천시스템 = 추천엔진 = 추천플랫폼)
  - 추천시스템은 기업의 매출에 직접적인 영향을 미침.
  - 유저들이 항목에 매긴 평점이나 선호도를 예측하는 시스템.
  - 즉, 추천시스템은 사람들의 과거 행동을 기준으로 무언가를 추천하는 시스템.
    - 시간이 지나면서 알게 된 사람들의 정보를 통해 추천하는것. 이것들이 분류되서 상위 추천항목으로 나타나게 됨.
    - 그러니 특정한 평점이나 선호 항목을 추천할 필요 없이 좋아할 만한 항목을 추천하는 것. 
    - 데이터를 기반으로 한다는 점.
    - 구매행위를 기반으로 사용자와 아이템간의 관계를 찾음.
    - 읽은 기사의 패턴을 보는 대신, 사람들이 구매한 물품의 패턴을 보는것.

  - ex) 아마존 사이트에 들어갈시, 추천항목에 있는 수많은 위젯이 있음. 과거에 봤거나 아마존의 다른 고객들, 상호작용한 다른 품목들을 바탕으로 제시된 것들을 기반으로 유저들을 위해 항목을 추천해줌.
  - ex) 넷플릭스를 보면 과거에 본 작품을 기준으로 영화를 추천해주는 것과 같음.
  - ex) 아마존에서는 사용자의 과거 구매행동을 파악해 좋아할 법한 상품을 추천하는것. 즉 사용자가 가스발전기를 샀다면 추천시스템은 점화액과 모터오일같은걸 추천해줌. 이를통해 사용자가 필요한것을 찾는데 유용한 기능으로 활용됨.
  - ex) (콘텐츠 기반 추천의 예) 음악같은경우는 음악의 파형 자체를 분석하여 박자와 음악스타일, 곡의 구조가 유사한 음악을 찾게 됨. 
  - ex) 사용자의 행동이 아닌 추천한 것의 속성 자체를 기반으로 한다. 음악이라면 좋아하는 노래의 음악적 특성이 된다.(ex. 판도라의 뮤직 게놈프로젝트)
  - ex) 추천이란, 제품이나 콘텐츠, 음악, 사람(데이팅앱)추천에 사용되는 기능.

- 정리) **추천시스템이란 시간이 자나면서 알게된 사람들의 정보를 통해 추천하는것이다. 머신러닝 시스템은 현재 갖고 있는 정보만 가지고 판단하는것이다!!**

- 검색엔진과 추천시스템은 미묘한 차이점.
  - 최근의 검색결과는 개인화되어 나타나는 경향이 있음. 단순검색이 아닌 검색엔진이 사용자의 과거 행위를 파악해 가장 관련된 결과를 보여줌. 즉 검색엔진 안에 추천시스템이 접목되어 보여주게 됨.



## 2.추천시스템의 작동 원리
- 추천시스템을 만들때는 유저들의 흥미에 대한 데이터가 무엇인지 생각하는것부터가 가중 중요한 시작. 그 후 해당 데이터와 유저들의 집단행동에 병합하여 유저가 좋아할 만한 것들을 추천해줄수 있음.

#### Q) 유저와 관련된 특별한 데이터는 어디서 얻는걸까?
1. (명시적데이터) 눈에 보이는 피드백참고하기.
  - ex) 유저들에게 온라인 강의의 등급을 1~5까지 매겨달라 하기
  - ex) 좋아요, 싫어요 평가하기
  - 이를 기반으로 해당 유저의 프로필생성. 
  - 단점 1) 모든 유저가 평점남기지 않음.
  - 단점 2) 해당 데이터의 양이 적음.
  - 단점 3) 데이터 양이 적기에 추천 항목의 질이 낮음.
  - 단점 4) 유저의 성향(문화적 성향, 개인성향 등)에 따라 피드백기준이 다를수 있음.

2. (암묵적 데이터) 개인의 취향을 이해하는 다른 방법중 하나는 implicitly(은연중에, 명시적으로)행동을 이용하는것.
  - 유저의 행동을 통해서 흥미를 가졌거나 흥미가 없는 소재로 해석하는것. 
  - 2-1. 클릭데이터
  - ex) 웹페이지 링크 클릭시 그 행위만으로 링크와 그안의 콘텐츠에 대한 implicitly평점이라고 여기는것.
  - ex) 광고를 클릭한 경우에는 당신이 그와 비슷한 종류의 광고를 발견할 수도 있다는걸 광고망에 전달하는것. 
  - 장점 1) 클릭데이터는 양이 많기 떄문에 유용함. 
  - 단점 1) 클릭데이터만으로는 흥미에 대한 정확한 지표라 하기 어려움. 실수로 클릭할수도 있으며, 무언가에 유도되어 클릭할수도 있음. 
  - 단점 2) 클릭데이터는 해킹에 취약. 
  - 2-2. 구매기록, 동영상 시청시간
  - 구매기록, 유투브의 동영상 시청시간은 흥미에 대한 더 좋은 지표임.  


### 2-1. Top-N recommender
- 사용자의 Needs ) 유저들은 유저들이 좋아할만한 것들을 보고싶어할뿐!

![image](https://github.com/OC-JSPark/oc-jspark.github.io/assets/46878973/9962d8b1-e4c5-4f81-b721-860e7780c20f)

  - 유저에게 가장 좋은 **추천목록 상위 N개**를 제시해주는 시스템.
  - 찾아낼수있는 최고의 콘텐츠를 상위 N개의 형태로 만들어서 유저에게 제공하는것. 
  - 사람들이 좋아하거나 싫어하는걸 예측하는거는 관심x
  - 현재 diagram은 아이템 기반 협력적 필터링을 단순화한 version. 아마존이 2003년에 출시한 알고리즘과 동일. 다만, 항목의 유사성 데이터베이스를 만드는것이 어려운 부분이다.
  - Rating Based Recommndor은 존재하는 모든 항목을 살펴보는 대신에 Top-N recommender는 유저들이 좋아하는 항목으로 시작해서 작업진행.

  1. Individual interests
    - 각 유저의 관심사를 나타내는 데이터를 저장하는것부터 시작. 
    - ex) 자신이 본 영화에 매긴 등급, 과거에 구매했던 물건 등의 **암묵적인 데이터** 요소들은  mongoDB, Cassandra, Memcached 같은 NoSQL data store에 넓게 퍼져있다.  왜냐면 많은 데이터들을 간단한 쿼리를 이용하여 전송이 가능하기 떄문. 이런 흥미 데이터는 유저들 간의 데이터를 비교할수 있도록 centering이나 Z-score같은 기술을 사용하여 표준화하는게 일반적.하지만, 현실에서는 여러분의 데이터를 효과적으로 표준화 하기엔 턱없이 부족한 경우가 많음.
  
  2. Candidate Generation 
    - 첫번째 단계는 유저의 과거 행적을 바탕으로 그들이 관심 있어 할 만한 추천 후보와 항목들을 만드는것. 
    - 이런 후보를 생성하는 단계에서는 유저가 이전에 관심을 보였떤 모든 항목들을 모을수 있음
    - 집계 항목을 기준으로 해당 항목과 유사한 다른 데이터를 참고할수도 있음. 
    - ex) X를 위한 추천항목만들기
      - step1 ) 개인별 관심사에 대한 X의 데이터베이스를 통해 X가 과거에 스타트렉을 좋아했는지 확인가능.
      - step2 ) 모든 사람들의 행동양식을 비춰볼때  스타트렉을 좋아하는 사람들은 보통 스타워즈도 좋아하곤 함. 
      - step3 ) 그러니 스타트렉에 대한 X의 관심을 기준으로 보면 스타워즈를 포함한 추천후보들을 얻을수 있음.
      - step4 ) 이런 추천항목들을 만드는 과정에서 각 항목의 등급을 어떻게 매겼는지를 보고 후보 항목들의 점수를 매길수 있음.  
      - step5 ) 그리고 항목들의 유사성이 얼마나 강한지와 어떻게 추천된 후보인지도 확인가능.
      - step6 ) 해당 점수가 높지 않다면, 이 단계에서 후보들을 걸러낼수도 있음. 

  3. candidate ranking
    - 많은 후보군들이 한번이상 나타날것이고 어떤 방식으로든 결합되어야 함. 
    - 반복적으로 나타나는 과정에서 점수는 계속 오르게 될수 있다. 
    - 그이후에는 점수를 통해 각 추천후보에 대한 결과를 분류해서 첫 top-N 추천목록을 만들어야 한다. 
    - 하지만 더 복잡한 접근방법이 존재한다. 
    - 이 단계에서 최적의 후보를 찾기 위해 머신 러닝을 이용하여 찾아내는 학습 과정. 
    - 또한, 이 단계에서는 평균 리뷰 점수와 같은 추천 후보 항목에 대한 더 많은 정보에 엑세스할 수 있고 이 정보를 통해 평점이 높거나 인기가 많은 항목에 대한 결과의 질을 향상하는데 사용할 수 있음.

  4. filtering
    - 결과를 나타내기전에 filtering과정이 필요. 
    - 유저를 위한 추천 후보 항목의 목록을 구분하는것. 
    - 이 단계에서는 유저가 이미 본 항목은 추천하지 않아야 하므로 유저가 등급을 매긴 추천 항목들을 제거하게 됨. 
    - 그리고 중단 목록을 적용하여 유저들에게 유해한 항목들을 제거하거나 최저 점수 이하의 항목, 혹은 최소 평점을 받은 항목들을 제거할수도 있음. 
    - 또한 top-N 추천 항목에 N을 적용하고 필요한 것 이상으로 많은 결과가 나오면 작업중단 가능. 
    - 그러면 필터링 단계의 output이 display layer로 전달되고 여기에서 유저에게 나타나는 추천 항목 위젯이 제공됨. 
    - 일반적으로 후보 항목을 생성하고 평점을 매기고 필터링하는 과정은 web frontend가 특정 유저를 위해 rendering할때 사용하는 분산형 추천 웹 서비스 내에 존재한다고 볼수 있음.




### 2-2.Rating Based Recommendor

![image](https://github.com/OC-JSPark/oc-jspark.github.io/assets/46878973/9ea48557-4980-4090-8add-a0dcbc110e5b)

  - 모든 유저에 의한 항목들의 등급을 예측하기 전에 데이터베이스를 구축하기 위한 방법.
  - Candidate generation 단계에서 모든 해당 유저들의 항목에 대한 예측 평점을 검색하게 됨. 
  - cadidate ranking은 단지 그것을 분류하기 위해 쓰임. 이때 모든 유저들의 카탈로그에 있는 모든 아이템을 하나하나 살펴봐야 함. 하지만 런타임에 있어서 효율적이지는 않음.
  - Rating Based Recommendor 구조는, 유저들은 평점이 좋든 나쁘든 간에 자신이 얼마나 잘 예측하느냐를 스스로 측정하기를 좋아함. 이러한 방식은 작은 추천 항목의 카탈로그가 있다면 활용적인 시스템임.

## 3. 추천시스템의 교차검증
- 추천시스템은 머신러닝 시스템과 비슷하게 이전 사용자의 행동을 이용해 학습한 다음 새로운 사용자가 좋아할 법한 항목을 예측할수 있다. 원리는 사람들이 어떤것에 대해 과거에 어떻게 평가했는지 예측하는 추천시스템의 능력을 측정하는것.
- 사용자가 이미 본 영화를 평가해서 어떤 평점을 줄지 얼마나 정확하게 예측할 수 있는지 나타내는 것.

- k-fold cross-validation
  - 학습할 데이터가 적다면 고려해볼 방법.




---


[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}